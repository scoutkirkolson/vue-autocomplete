(function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VueAutocomplete=e():t.VueAutocomplete=e()})("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(s[n])return s[n].exports;var i=s[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var s={};return e.m=t,e.c=s,e.d=function(t,s,n){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=4)}([function(t,e,s){"use strict";var n=s(7),i=s.n(n),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a={props:{source:{type:[String,Function,Array,Object],required:!0},placeholder:{default:"Search"},initialValue:{type:[String,Number]},initialDisplay:{type:String},containerClass:{type:[String,Object]},inputClass:{type:[String,Object]},inputType:{default:"text",type:String},disableInput:{type:Boolean},name:{type:String},nameDisplay:{type:String},resultsProperty:{type:String},resultsValue:{type:String,default:"id"},resultsDisplay:{type:[String,Function],default:"name"},showNoResults:{type:Boolean,default:!0},requestHeaders:{type:Object},searchButton:{type:Boolean,default:!0},clearButton:{type:Boolean,default:!0},clearButtonIcon:{type:String}},data:function(){return{value:null,display:null,results:null,selectedIndex:null,loading:!1,isFocussed:!1,error:null,selectedId:null,selectedDisplay:null,eventListener:!1,position:{top:0,left:0}}},watch:{initialDisplay:function(t,e){var s=this;s.display||(s.display=t)}},computed:{showResults:function(){return Array.isArray(this.results)||this.hasError},noResults:function(){return Array.isArray(this.results)&&0===this.results.length},noResultMessage:function(){return this.noResults&&!this.isLoading&&this.isFocussed&&!this.hasError&&this.showNoResults},isEmpty:function(){return!this.display},isLoading:function(){return!0===this.loading},hasError:function(){return null!==this.error},listStyle:function(){return{position:"absolute",top:this.position.top+25}}},methods:{search:function(){switch(this.selectedIndex=null,!0){case"string"==typeof this.source:if(!this.display||this.display.length<1)return;return this.resourceSearch(this.source+this.display);case"function"==typeof this.source:if(!this.display||this.display.length<1)return;return this.resourceSearch(this.source(this.display));case Array.isArray(this.source):return this.arrayLikeSearch();default:throw new TypeError}},resourceSearch:i()(function(t){if(!this.display)return void(this.results=[]);this.loading=!0,this.setEventListener(),this.request(t)},200),request:function(t){var e=this;return fetch(t,{method:"get",credentials:"same-origin",headers:this.getHeaders()}).then(function(t){if(t.ok)return e.error=null,t.json();throw new Error("Network response was not ok.")}).then(function(t){e.results=e.setResults(t),0===e.results.length?e.$emit("noResults",{query:e.display}):e.$emit("results",{results:e.results}),e.loading=!1}).catch(function(t){e.error=t.message,e.loading=!1})},getHeaders:function(){var t={Accept:"application/json, text/plain, */*","Content-Type":"application/json"};if(this.requestHeaders)for(var e in this.requestHeaders)t[e]=this.requestHeaders[e];return new Headers(t)},setResults:function(t){return this.resultsProperty&&t[this.resultsProperty]?t[this.resultsProperty]:Array.isArray(t)?t:[]},arrayLikeSearch:function(){var t=this;if(this.setEventListener(),!this.display)return this.results=this.source,this.$emit("results",{results:this.results}),this.loading=!1,!0;this.results=this.source.filter(function(e){return t.formatDisplay(e).toLowerCase().includes(t.display.toLowerCase())}),this.$emit("results",{results:this.results}),this.loading=!1},select:function(t){t&&(this.value=this.resultsValue&&t[this.resultsValue]?t[this.resultsValue]:t.id,this.display=this.formatDisplay(t),this.selectedDisplay=this.display,this.$emit("selected",{value:this.value,display:this.display,selectedObject:t}),this.$emit("input",this.value),this.close())},formatDisplay:function(t){switch(r(this.resultsDisplay)){case"function":return this.resultsDisplay(t);case"string":if(!t[this.resultsDisplay])throw new Error('"'+this.resultsDisplay+'" property expected on result but is not defined.');return t[this.resultsDisplay];default:throw new TypeError}},focus:function(){this.isFocussed=!0},blur:function(){this.isFocussed=!1},isSelected:function(t){return t===this.selectedIndex},up:function(){if(null===this.selectedIndex)return void(this.selectedIndex=this.results.length-1);this.selectedIndex=0===this.selectedIndex?this.results.length-1:this.selectedIndex-1},down:function(){if(null===this.selectedIndex)return void(this.selectedIndex=0);this.selectedIndex=this.selectedIndex===this.results.length-1?0:this.selectedIndex+1},enter:function(){if(null===this.selectedIndex)return this.value=null,void this.$emit("nothing-selected",this.display);this.select(this.results[this.selectedIndex]),this.$emit("enter",this.display)},clear:function(){this.display=null,this.value=null,this.results=null,this.error=null,this.$emit("clear")},close:function(){this.value&&this.selectedDisplay||(this.value=null,this.$emit("nothing-selected",this.display)),this.selectedDisplay!==this.display&&this.value&&(this.display=this.selectedDisplay),this.results=null,this.error=null,this.removeEventListener(),this.$emit("close",this.display)},setEventListener:function(){return!this.eventListener&&(this.eventListener=!0,document.addEventListener("click",this.clickOutsideListener,!0),!0)},removeEventListener:function(){this.eventListener=!1,document.removeEventListener("click",this.clickOutsideListener,!0)},clickOutsideListener:function(t){this.$el&&!this.$el.contains(t.target)&&this.close()}},mounted:function(){this.value=this.initialValue,this.display=this.initialDisplay,this.selectedDisplay=this.initialDisplay,this.position=$(this.$el).position()}}},function(t,e){function s(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=s},function(t,e,s){var n=s(9),i="object"==typeof self&&self&&self.Object===Object&&self,r=n||i||Function("return this")();t.exports=r},function(t,e,s){var n=s(2),i=n.Symbol;t.exports=i},function(t,e,s){t.exports=s(5)},function(t,e,s){"use strict";function n(t){s(6)}Object.defineProperty(e,"__esModule",{value:!0});var i=s(0),r=s(17),o=s(21),u=n,l=Object(o.a)(i.a,r.a,r.b,!1,u,null,null);e.default=l.exports},function(t,e){},function(t,e,s){function n(t,e,s){function n(e){var s=b,n=k;return b=k=void 0,C=e,_=t.apply(n,s)}function c(t){return C=t,w=setTimeout(h,e),S?n(t):_}function d(t){var s=t-x,n=t-C,i=e-s;return E?a(i,g-n):i}function p(t){var s=t-x,n=t-C;return void 0===x||s>=e||s<0||E&&n>=g}function h(){var t=r();if(p(t))return f(t);w=setTimeout(h,d(t))}function f(t){return w=void 0,j&&b?n(t):(b=k=void 0,_)}function y(){void 0!==w&&clearTimeout(w),C=0,b=x=k=w=void 0}function v(){return void 0===w?_:f(r())}function m(){var t=r(),s=p(t);if(b=arguments,k=this,x=t,s){if(void 0===w)return c(x);if(E)return w=setTimeout(h,e),n(x)}return void 0===w&&(w=setTimeout(h,e)),_}var b,k,g,_,w,x,C=0,S=!1,E=!1,j=!0;if("function"!=typeof t)throw new TypeError(u);return e=o(e)||0,i(s)&&(S=!!s.leading,E="maxWait"in s,g=E?l(o(s.maxWait)||0,e):g,j="trailing"in s?!!s.trailing:j),m.cancel=y,m.flush=v,m}var i=s(1),r=s(8),o=s(11),u="Expected a function",l=Math.max,a=Math.min;t.exports=n},function(t,e,s){var n=s(2),i=function(){return n.Date.now()};t.exports=i},function(t,e,s){(function(e){var s="object"==typeof e&&e&&e.Object===Object&&e;t.exports=s}).call(e,s(10))},function(t,e){var s;s=function(){return this}();try{s=s||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(s=window)}t.exports=s},function(t,e,s){function n(t){if("number"==typeof t)return t;if(r(t))return o;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var s=a.test(t);return s||c.test(t)?d(t.slice(2),s?2:8):l.test(t)?o:+t}var i=s(1),r=s(12),o=NaN,u=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;t.exports=n},function(t,e,s){function n(t){return"symbol"==typeof t||r(t)&&i(t)==o}var i=s(13),r=s(16),o="[object Symbol]";t.exports=n},function(t,e,s){function n(t){return null==t?void 0===t?l:u:a&&a in Object(t)?r(t):o(t)}var i=s(3),r=s(14),o=s(15),u="[object Null]",l="[object Undefined]",a=i?i.toStringTag:void 0;t.exports=n},function(t,e,s){function n(t){var e=o.call(t,l),s=t[l];try{t[l]=void 0;var n=!0}catch(t){}var i=u.call(t);return n&&(e?t[l]=s:delete t[l]),i}var i=s(3),r=Object.prototype,o=r.hasOwnProperty,u=r.toString,l=i?i.toStringTag:void 0;t.exports=n},function(t,e){function s(t){return i.call(t)}var n=Object.prototype,i=n.toString;t.exports=s},function(t,e){function s(t){return null!=t&&"object"==typeof t}t.exports=s},function(t,e,s){"use strict";s.d(e,"a",function(){return n}),s.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sko-aut"},[n("div",{staticClass:"sko-aut-box",class:[t.containerClass,{autocomplete__searching:t.showResults}]},[t.searchButton?n("span",[t.isLoading?n("img",{staticClass:"sko-aut-icon sko-aut-animate-spin",attrs:{src:s(19)}}):n("img",{staticClass:"sko-aut-icon",attrs:{src:s(18)}})]):t._e(),t._v(" "),n("div",{staticClass:"sko-aut-inputs"},["checkbox"===t.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:t.display,expression:"display"}],class:t.inputClass,attrs:{placeholder:t.placeholder,disabled:t.disableInput,type:"checkbox"},domProps:{checked:Array.isArray(t.display)?t._i(t.display,null)>-1:t.display},on:{click:t.search,input:t.search,keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.enter(e):null},function(e){return"button"in e||!t._k(e.keyCode,"tab",9,e.key,"Tab")?t.close(e):null},function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?t.up(e):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?t.down(e):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?t.close(e):null}],focus:t.focus,blur:t.blur,change:function(e){var s=t.display,n=e.target,i=!!n.checked;if(Array.isArray(s)){var r=t._i(s,null);n.checked?r<0&&(t.display=s.concat([null])):r>-1&&(t.display=s.slice(0,r).concat(s.slice(r+1)))}else t.display=i}}}):"radio"===t.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:t.display,expression:"display"}],class:t.inputClass,attrs:{placeholder:t.placeholder,disabled:t.disableInput,type:"radio"},domProps:{checked:t._q(t.display,null)},on:{click:t.search,input:t.search,keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.enter(e):null},function(e){return"button"in e||!t._k(e.keyCode,"tab",9,e.key,"Tab")?t.close(e):null},function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?t.up(e):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?t.down(e):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?t.close(e):null}],focus:t.focus,blur:t.blur,change:function(e){t.display=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.display,expression:"display"}],class:t.inputClass,attrs:{placeholder:t.placeholder,disabled:t.disableInput,type:t.inputType},domProps:{value:t.display},on:{click:t.search,input:[function(e){e.target.composing||(t.display=e.target.value)},t.search],keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.enter(e):null},function(e){return"button"in e||!t._k(e.keyCode,"tab",9,e.key,"Tab")?t.close(e):null},function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?t.up(e):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?t.down(e):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?t.close(e):null}],focus:t.focus,blur:t.blur}}),t._v(" "),n("input",{attrs:{name:t.name,type:"hidden"},domProps:{value:t.value||t.initialValue}}),t._v(" "),n("input",{attrs:{name:t.nameDisplay,type:"hidden"},domProps:{value:t.display||t.initialDisplay}})]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.clearButton&&!t.disableInput&&!t.isEmpty&&!t.isLoading&&!t.hasError,expression:"clearButton && !disableInput && !isEmpty && !isLoading && !hasError"}],staticClass:"sko-aut-icon sko-aut-clear",on:{click:t.clear}},[t.clearButtonIcon?n("span",{class:t.clearButtonIcon}):n("img",{attrs:{src:s(20)}})])]),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.showResults,expression:"showResults"}],staticClass:"sko-aut-results",style:t.listStyle},[t._t("results",[t.hasError?n("li",{staticClass:"sko-aut-results-item autocomplete__results__item--error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),t.hasError?t._e():[t._t("firstResult"),t._v(" "),t._l(t.results,function(e,s){return n("li",{key:s,staticClass:"sko-aut-results-item",class:{"sko-aut-selected":t.isSelected(s)},domProps:{innerHTML:t._s(t.formatDisplay(e))},on:{click:function(s){s.preventDefault(),t.select(e)}}})}),t._v(" "),t._t("lastResult")],t._v(" "),t.noResultMessage?n("li",{staticClass:"sko-aut-results-item autocomplete__no-results"},[t._t("noResults",[t._v("No Results.")])],2):t._e()])],2)])},i=[]},function(t,e,s){t.exports=s.p+"assets/images/search.23fe7c7d.svg"},function(t,e,s){t.exports=s.p+"assets/images/loading.faa40e29.svg"},function(t,e,s){t.exports=s.p+"assets/images/close.6ea64dc7.svg"},function(t,e,s){"use strict";function n(t,e,s,n,i,r,o,u){t=t||{};var l=typeof t.default;"object"!==l&&"function"!==l||(t=t.default);var a="function"==typeof t?t.options:t;e&&(a.render=e,a.staticRenderFns=s,a._compiled=!0),n&&(a.functional=!0),r&&(a._scopeId=r);var c;if(o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},a._ssrRegister=c):i&&(c=u?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(a.functional){a._injectStyles=c;var d=a.render;a.render=function(t,e){return c.call(e),d(t,e)}}else{var p=a.beforeCreate;a.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:a}}e.a=n}])});
//# sourceMappingURL=vue-autocomplete.min.js.map